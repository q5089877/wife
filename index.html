<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>OneSignal Push 測試</title>

  <!-- 1️⃣ 載入 OneSignal SDK。注意：用 page.js 版本即可 -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>

  <!-- 2️⃣ 初始化 OneSignal（要用 window.OneSignal 而非 OneSignalDeferred） -->
  <script defer>
    console.log('▶️ OneSignal init script start');

    // If not already defined, 建立 window.OneSignal 為陣列
    window.OneSignal = window.OneSignal || [];

    // push 初始化函式，SDK 載入完成後自動執行
    OneSignal.push(function() {
      OneSignal.init({
        appId: "d95c1f3b-1979-4c55-b3dd-c0bb6361a12a",
        // 如不想顯示預設的「訂閱按鈕」，可以加入：
        notifyButton: { enable: false }
      });
      console.log('▶️ OneSignal 已初始化');
    });

    console.log('▶️ OneSignal init script end');
  </script>

  <!-- 3️⃣ 你的業務程式碼，綁按鈕、請求權限、推播流程等 -->
  <script src="app.js" defer></script>
</head>
<body>
  <h1>每日語錄 App Push（OneSignal）</h1>
  <button id="btn-subscribe">訂閱推播 & 顯示測試通知</button>
</body>
</html>
